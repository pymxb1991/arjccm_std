package com.arjjs.ccm.tool;


import org.springframework.core.env.Environment;
import org.springframework.web.multipart.MultipartFile;
/**
 * @author mxb
 */
public final class AppReadUtil {
	/*
	 * private static final String defaultTempFilePath = "src/main/resources/";
	 * private static final String tempFileSuffix = ".apk"; private static final
	 * String fileNamePrefix = "apkRead-";
	 */

	/**
     * 读取apk
     * @param apkFile
     * @return
     */
    public static synchronized ApkInfo readAPK(Environment env, MultipartFile apk){
		/*
		 * ApkInfo result = new ApkInfo(); String tempPath =
		 * StringUtils.isEmpty(env.getProperty("file.apk.read.temp.path")) ?
		 * defaultTempFilePath : env.getProperty("file.apk.read.temp.path");
		 * StringBuilder tempFileNameBuilder = new StringBuilder();
		 * tempFileNameBuilder.append(tempPath); if(tempPath.lastIndexOf("/") !=
		 * tempPath.length()-1) { tempFileNameBuilder.append("/"); }
		 * tempFileNameBuilder.append(fileNamePrefix);
		 * tempFileNameBuilder.append(Thread.currentThread().getName());
		 * tempFileNameBuilder.append("-");
		 * tempFileNameBuilder.append(System.currentTimeMillis());
		 * tempFileNameBuilder.append(tempFileSuffix); File file = new
		 * File(tempFileNameBuilder.toString()); try {
		 * FileUtils.copyInputStreamToFile(apk.getInputStream(), file); ApkFile apkFile
		 * = new ApkFile(file); ApkMeta apkMeta = apkFile.getApkMeta();
		 * result.setIcon(apkMeta.getIcon());
		 * result.setVersionCode(apkMeta.getVersionCode());
		 * result.setVersionName(apkMeta.getVersionName()); apkFile.close();
		 * result.setSess(true); } catch (IOException e) { result.setSess(false);
		 * result.setOpMsg(e.getMessage()); } finally { if(file.exists()) {
		 * file.delete(); } }
		 */
		return null;
    }
}